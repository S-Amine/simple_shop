    <!-- Cart Drawer -->
    <div class="aside aside_right overflow-hidden cart-drawer" id="cartDrawer">
        <div class="aside-header d-flex align-items-center">
          <h3 class="text-uppercase fs-6 mb-0">SHOPPING BAG ( <span class="cart-amount js-cart-items-count" id="cart-items-count">1</span> ) </h3>
          <button class="btn-close-lg js-close-aside btn-close-aside ms-auto"></button>
        </div><!-- /.aside-header -->
  
        <div class="aside-content cart-drawer-items-list" id="cart-drawer-items-list" >
          <div class="cart-drawer-item d-flex position-relative">
            <div class="position-relative">
              <img loading="lazy" class="cart-drawer-item__img" src="../images/cart-item-1.jpg" alt="">
            </div>
            <div class="cart-drawer-item__info flex-grow-1">
              <h6 class="cart-drawer-item__title fw-normal">Zessi Dresses</h6>
              <p class="cart-drawer-item__option text-secondary">Color: Yellow</p>
              <p class="cart-drawer-item__option text-secondary">Size: L</p>
              <div class="d-flex align-items-center justify-content-between mt-1">
                <div class="qty-control position-relative">
                  <input type="number" name="quantity" value="1" min="1" class="qty-control__number border-0 text-center">
                  <div class="qty-control__reduce text-start">-</div>
                  <div class="qty-control__increase text-end">+</div>
                </div><!-- .qty-control -->
                <span class="cart-drawer-item__price money price">$99</span>
              </div>
            </div>
            <button class="btn-close-xs position-absolute top-0 end-0 js-cart-item-remove"></button>
          </div><!-- /.cart-drawer-item d-flex -->
  
        </div><!-- /.aside-content -->
  
        <div class="cart-drawer-actions position-absolute start-0 bottom-0 w-100">
          <hr class="cart-drawer-divider">
          <div class="d-flex justify-content-between">
            <h6 class="fs-base fw-medium">SUBTOTAL:</h6>
            <span class="cart-subtotal fw-medium sub-total-count" id="sub-total-count">0 DA</span>
          </div><!-- /.d-flex justify-content-between -->
          <a href="shop_cart.html" class="btn btn-light mt-3 d-block">View Cart</a>
          <a href="shop_checkout.html" class="btn btn-primary mt-3 d-block">Checkout</a>
        </div><!-- /.aside-content -->
      </div>
      <!-- /.aside -->
  
<script>
var parentCartItems = document.getElementById('cart-drawer-items-list');



// initialize cart items on page load
document.addEventListener('DOMContentLoaded',e=>{
  console.log('fillCartItem()')
fillCartItem()


})


const removeItemFromCart = (element) => {
    // Get the closest parent with class 'cart-drawer-item'
    const parentItem = element.closest('.cart-drawer-item');

    if (parentItem) {
        // Get data attributes from the parent item
        const itemId = parentItem.getAttribute('data-item-id');
        const itemName = parentItem.getAttribute('data-item-name');
        const itemColor = parentItem.getAttribute('data-item-color');
        const itemSize = parentItem.getAttribute('data-item-size');

        // Remove the item from localStorage
        let existingCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        existingCartItems = existingCartItems.filter(item => (
            item.id !== itemId ||
            item.name !== itemName ||
            item.color !== itemColor ||
            item.size !== itemSize
        ));

        // Update localStorage with the modified cart items array
        localStorage.setItem('cartItems', JSON.stringify(existingCartItems));

        // Remove the item's HTML from the DOM
        parentItem.remove();

        console.log('Item removed from cart:', itemId);
    } else {
        console.log('Unable to find parent cart item');
    }
};

const setItemToCart = (item, operation) => {
    // Get item ID
    let itemID = item.getAttribute("data-item-id");
    let itemImage = item.getAttribute("data-item-image");
    let itemPrice = item.getAttribute("data-item-price");
    let itemName = item.getAttribute("data-item-name");

    // Get selected color and size
    let itemColor = document.querySelector('input[name="color"]:checked');
    let itemSize = document.querySelector('input[name="size"]:checked');
    let itemQty = document.getElementById("qty").value;

    // Check if both color and size are selected
    if (itemColor && itemSize) {
      // Get the data attributes from the selected elements
      let colorVariant = itemColor.getAttribute("data-item-color");
      let sizeVariant = itemSize.getAttribute("data-item-size");

      // Try to get existing cart items array from localStorage
      let existingCartItems =
        JSON.parse(localStorage.getItem("cartItems")) || [];

      // Check if an item with the same ID, color, and size already exists in the cart
      let existingItemIndex = existingCartItems.findIndex(
        (item) =>
          item.id === itemID &&
          item.color === colorVariant &&
          item.size === sizeVariant
      );

      if (existingItemIndex !== -1) {
        // If item exists, update quantity based on the operation
        if (operation === "add") {
          existingCartItems[existingItemIndex].qty = parseInt(itemQty);
        } else if (operation === "subtraction") {
          existingCartItems[existingItemIndex].qty = parseInt(itemQty);

          // Ensure quantity doesn't go below 0
          existingCartItems[existingItemIndex].qty = Math.max(
            0,
            existingCartItems[existingItemIndex].qty
          );
        } else {
          console.log("operation not supported");
        }
      } else {
        // If item doesn't exist, add it to the array
        existingCartItems.push({
          id: itemID,
          color: colorVariant,
          size: sizeVariant,
          price: itemPrice,
          image: itemImage,
          name: itemName,
          qty: parseInt(itemQty),
        });
      }

      // Convert the cart items array to JSON string and store it in localStorage
      localStorage.setItem("cartItems", JSON.stringify(existingCartItems));

      // Calculate total quantity
      let totalQty = existingCartItems.reduce(
        (total, item) => total + item.qty,
        0
      );

      // SET NEW VALUE TO navbar header
      setNewNumberToCartIcon();
      console.log("Item added/removed from cart:", existingCartItems);
    } else {
      console.log("NO both color and size");
      setItemToCartGlobal(item, operation);
    }
    fillCartItem();
    setCheckoutTotal();
  };



</script>