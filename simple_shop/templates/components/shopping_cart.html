    <!-- Cart Drawer -->
    <div class="aside aside_right overflow-hidden cart-drawer" id="cartDrawer">
        <div class="aside-header d-flex align-items-center">
          <h3 class="text-uppercase fs-6 mb-0">SHOPPING BAG ( <span class="cart-amount js-cart-items-count" id="cart-items-count">1</span> ) </h3>
          <button class="btn-close-lg js-close-aside btn-close-aside ms-auto"></button>
        </div><!-- /.aside-header -->
  
        <div class="aside-content cart-drawer-items-list" id="cart-drawer-items-list" >
          <div class="cart-drawer-item d-flex position-relative">
            <div class="position-relative">
              <img loading="lazy" class="cart-drawer-item__img" src="../images/cart-item-1.jpg" alt="">
            </div>
            <div class="cart-drawer-item__info flex-grow-1">
              <h6 class="cart-drawer-item__title fw-normal">Zessi Dresses</h6>
              <p class="cart-drawer-item__option text-secondary">Color: Yellow</p>
              <p class="cart-drawer-item__option text-secondary">Size: L</p>
              <div class="d-flex align-items-center justify-content-between mt-1">
                <div class="qty-control position-relative">
                  <input type="number" name="quantity" value="1" min="1" class="qty-control__number border-0 text-center">
                  <div class="qty-control__reduce text-start">-</div>
                  <div class="qty-control__increase text-end">+</div>
                </div><!-- .qty-control -->
                <span class="cart-drawer-item__price money price">$99</span>
              </div>
            </div>
            <button class="btn-close-xs position-absolute top-0 end-0 js-cart-item-remove"></button>
          </div><!-- /.cart-drawer-item d-flex -->
  
        </div><!-- /.aside-content -->
  
        <div class="cart-drawer-actions position-absolute start-0 bottom-0 w-100">
          <hr class="cart-drawer-divider">
          <div class="d-flex justify-content-between">
            <h6 class="fs-base fw-medium">SUBTOTAL:</h6>
            <span class="cart-subtotal fw-medium sub-total-count" id="sub-total-count">0 DA</span>
          </div><!-- /.d-flex justify-content-between -->
          <a href="shop_cart.html" class="btn btn-light mt-3 d-block">View Cart</a>
          <a href="shop_checkout.html" class="btn btn-primary mt-3 d-block">Checkout</a>
        </div><!-- /.aside-content -->
      </div>
      <!-- /.aside -->
  
<script>
const fillCheckoutItems = () =>{
let existingCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
let parentCartItems = document.getElementById('checkout-cart-items');
let subTotalCount = document.querySelectorAll('.sub-total-count');
subTotalCount.forEach(e=>{
  e.innerHTML = `${localStorage.getItem('cart-total-prices',0)} DA`
  e.setAttribute('data-subtotal',getTotalePrices())

})
parentCartItems.innerHTML = '';
existingCartItems.forEach(item =>{
    parentCartItems.innerHTML += `
    <tr>
            <td>
            ${item.name} x ${item.qty}
            </td>
            <td>
            DA ${item.price*item.qty}
            </td>
    </tr>
    `
})
}
const fillCartItem = () =>{
let existingCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
let parentCartItems = document.getElementById('cart-drawer-items-list');
let cartItemsCount = document.getElementById('cart-items-count');
let subTotalCount = document.querySelectorAll('.sub-total-count');
let htmlInnerContent = '';
cartItemsCount.innerHTML =existingCartItems.length;
existingCartItems.forEach(item => {
    htmlInnerContent +=`
    <div class="cart-drawer-item d-flex position-relative" data-item-id="${item.id}" data-item-name="${item.name}" data-item-color="${item.color}" data-item-size="${item.size}">
            <div class="position-relative">
              <img loading="lazy" class="cart-drawer-item__img" src="${item.image}" alt="">
            </div>
            <div class="cart-drawer-item__info flex-grow-1">
              <h6 class="cart-drawer-item__title fw-normal">${item.name}</h6>
              <p class="cart-drawer-item__option text-secondary">Color: ${item.color}</p>
              <p class="cart-drawer-item__option text-secondary">Size: ${item.size}</p>
              <div class="d-flex align-items-center justify-content-between mt-1">
                <div class="qty-control position-relative">
                  <input type="number" name="quantity" value="${item.qty}" min="1" class="qty-control__number border-0 text-center">
                  <div class="qty-control__reduce text-start">-</div>
                  <div class="qty-control__increase text-end">+</div>
                </div><!-- .qty-control -->
            <span class="cart-drawer-item__price money price item-sub-price" data-price="${item.price*item.qty}">${item.price*item.qty} DA</span>
              </div>
            </div>
            <button class="btn-close-xs position-absolute top-0 end-0 js-cart-item-remove" onclick="removeItemFromCart(this)"></button>
          </div>
          <hr class="cart-drawer-divider">

    `
});
parentCartItems.innerHTML = htmlInnerContent


subTotalCount.forEach(e=>{
  e.innerHTML = `${localStorage.getItem('cart-total-prices',0)} DA`
  e.setAttribute('data-subtotal',getTotalePrices())

})
localStorage.setItem('cart-total-prices', getTotalePrices());
fillCheckoutItems()
}


// initialize cart items on page load
document.addEventListener('DOMContentLoaded',e=>{
fillCartItem()
fillCheckoutItems()
setCheckoutTotal();

})

const getTotalePrices = ()=>{
let subTotalPrices = document.querySelectorAll('.item-sub-price');
let totalPrices = 0;
subTotalPrices.forEach(e=>{
totalPrices+= parseInt(e.getAttribute('data-price'))
})
return totalPrices
}

const removeItemFromCart = (element) => {
    // Get the closest parent with class 'cart-drawer-item'
    const parentItem = element.closest('.cart-drawer-item');

    if (parentItem) {
        // Get data attributes from the parent item
        const itemId = parentItem.getAttribute('data-item-id');
        const itemName = parentItem.getAttribute('data-item-name');
        const itemColor = parentItem.getAttribute('data-item-color');
        const itemSize = parentItem.getAttribute('data-item-size');

        // Remove the item from localStorage
        let existingCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        existingCartItems = existingCartItems.filter(item => (
            item.id !== itemId ||
            item.name !== itemName ||
            item.color !== itemColor ||
            item.size !== itemSize
        ));

        // Update localStorage with the modified cart items array
        localStorage.setItem('cartItems', JSON.stringify(existingCartItems));

        // Remove the item's HTML from the DOM
        parentItem.remove();

        console.log('Item removed from cart:', itemId);
    } else {
        console.log('Unable to find parent cart item');
    }
};


</script>