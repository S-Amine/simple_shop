{% extends 'templates/shop_base.html' %}
{% block centent %}

<div class="mb-md-1 pb-md-3"></div>
    <section class="product-single container">
      <div class="row">
        <div class="col-lg-7">
          <div class="product-single__media" data-media-type="vertical-thumbnail">
            <div class="product-single__image">
              <div class="swiper-container">
                <div class="swiper-wrapper">


                  <div class="swiper-slide product-single__image-item">
                    <img loading="lazy" class="h-auto" src="{{item.image}}" width="674" height="674" alt="">
                    <a data-fancybox="gallery" href="{{item.image}}" data-bs-toggle="tooltip" data-bs-placement="left" title="Zoom">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><use href="#icon_zoom" /></svg>
                    </a>
                  </div>


                </div>
                <div class="swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" xmlns="http://www.w3.org/2000/svg"><use href="#icon_prev_sm" /></svg></div>
                <div class="swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" xmlns="http://www.w3.org/2000/svg"><use href="#icon_next_sm" /></svg></div>
              </div>
            </div>
            <div class="product-single__thumbnail">
              <div class="swiper-container">
                <div class="swiper-wrapper">
                  <div class="swiper-slide product-single__image-item"><img loading="lazy" class="h-auto" src="{{item.image}}" width="104" height="104" alt=""></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="d-flex justify-content-between mb-4 pb-md-2">
            <div class="breadcrumb mb-0 d-none d-md-block flex-grow-1">
              <a href="product2_variable.html#" class="menu-link menu-link_us-s text-uppercase fw-medium">Home</a>
              <span class="breadcrumb-separator menu-link fw-medium ps-1 pe-1">/</span>
              <a href="product2_variable.html#" class="menu-link menu-link_us-s text-uppercase fw-medium">The Shop</a>
            </div><!-- /.breadcrumb -->

            <div class="product-single__prev-next d-flex align-items-center justify-content-between justify-content-md-end flex-grow-1">
              <a href="product2_variable.html#" class="text-uppercase fw-medium"><svg width="10" height="10" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><use href="#icon_prev_md" /></svg><span class="menu-link menu-link_us-s">Prev</span></a>
              <a href="product2_variable.html#" class="text-uppercase fw-medium"><span class="menu-link menu-link_us-s">Next</span><svg width="10" height="10" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><use href="#icon_next_md" /></svg></a>
            </div><!-- /.shop-acs -->
          </div>
          <h1 class="product-single__name">{{item.item_name}}</h1>
          <div class="product-single__rating">
            <div class="reviews-group d-flex">
              <svg class="review-star" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><use href="#icon_star" /></svg>
              <svg class="review-star" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><use href="#icon_star" /></svg>
              <svg class="review-star" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><use href="#icon_star" /></svg>
              <svg class="review-star" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><use href="#icon_star" /></svg>
              <svg class="review-star" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><use href="#icon_star" /></svg>
            </div>
            <span class="reviews-note text-lowercase text-secondary ms-1">8k+ reviews</span>
          </div>
          <div class="product-single__price">
            <span class="current-price">{{item.custom_price}} DA</span>
          </div>
          <div class="product-single__short-desc">
            <p>{{item.description}}</p>
          </div>

          {% if item.has_variants %}

          <form name="addtocart-form" method="post">
            <div class="product-single__swatches">
              {% for item_variants_value in item_variants_values %}
              {% if item_variants_value.Attribute != 'Colour' %}
              <div class="product-swatch text-swatches">
                <label>{{item_variants_value.Attribute}}</label>
                <div class="swatch-list">
                  {% for item in item_variants_values %}
                  {% if item.Attribute == 'Size' %}
                  {% for value in item.Values %}
                  <input type="radio" data-item-size="{{ value }}" name="size" id="swatch-size-{{ loop.index }}" {% if loop.first %}checked{% endif %}>
                  <label class="swatch js-swatch" for="swatch-size-{{ loop.index }}" aria-label="{{ value }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ value }}">{{ value }}</label>
              {% endfor %}
                  {% endif %}
                  {% endfor %}
                </div>
              </div>
              {% else %}
              <div class="product-swatch color-swatches">
                <label>Color</label>
                <div class="swatch-list">
                  {% for item in item_variants_values %}
                  {% if item.Attribute == 'Colour' %}
                  {% for value in item.Values %}
                  <input type="radio" data-item-color="{{ value }}" name="color" id="swatch-{{ loop.index }}" {% if loop.first %}checked{% endif %}>
                  <label class="swatch swatch-color js-swatch" for="swatch-{{ loop.index }}" aria-label="{{ value }}" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ value }}" style="color: {{ value|lower }}"></label>
              {% endfor %}
                  {% endif %}

                  {% endfor %}
              </div>
              
              </div>
              {% endif %}
            {% endfor %}
            </div>
            {% endif %}

            <div class="product-single__addtocart">
              <div class="qty-control position-relative">
                <input type="number" name="quantity" value="1" min="1" id="qty" class="qty-control__number text-center">
                <div class="qty-control__reduce" data-item-id="{{item.item_code}}" data-item-name="{{item.name}} - {{item.item_name}}" data-item-price ="{{item.custom_price}}" data-item-image="{{item.image}}" onclick="setItemToCart(this,'subtraction')">-</div>
                <div class="qty-control__increase" data-item-id="{{item.item_code}}" data-item-name="{{item.name}} - {{item.item_name}}"  data-item-price ="{{item.custom_price}}" data-item-image="{{item.image}}" onclick="setItemToCart(this,'add')">+</div>
              </div><!-- .qty-control -->
              <a class="btn btn-outline-primary"  onclick="setItemToCart(this,'add')" data-item-id="{{item.item_code}}" data-item-name="{{item.name}} - {{item.item_name}}"  data-item-price ="{{item.custom_price}}" data-item-image="{{item.image}}" >Add to cart</a>
              <a href="#billing" class="btn btn-primary btn-addtocart " data-aside="cartDrawer">Buy now</a>

            </div>
          </form>

   
        </div>
      </div>
      {% if  item.description %}
      <div class="product-single__details-tab">
          <ul class="nav nav-tabs" id="myTab1" role="tablist">
          <li class="nav-item" role="presentation">
            <a class="nav-link nav-link_underscore active" id="tab-description-tab" data-bs-toggle="tab" href="product2_variable.html#tab-description" role="tab" aria-controls="tab-description" aria-selected="true">Description</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane fade show active" id="tab-description" role="tabpanel" aria-labelledby="tab-description-tab">
            <div class="product-single__description">
              {{item.description}}
            </div>
          </div>
        </div>
      </div>
      {% else %}
      <div class="py-5"></div>
      {% endif %}

      <div class="pb-5">
        {% include "templates/components/checkout.html"%}
      </div>
    </section>
 {% if recommendations %}
   
    <section class="products-carousel container">
      <h2 class="h3 text-uppercase mb-4 pb-xl-2 mb-xl-4">Related <strong>Products</strong></h2>

      <div id="related_products" class="position-relative">
          <div class="swiper-container js-swiper-slider"
            data-settings='{
              "autoplay": false,
              "slidesPerView": 4,
              "slidesPerGroup": 4,
              "effect": "none",
              "loop": true,
              "pagination": {
                "el": "#related_products .products-pagination",
                "type": "bullets",
                "clickable": true
              },
              "navigation": {
                "nextEl": "#related_products .products-carousel__next",
                "prevEl": "#related_products .products-carousel__prev"
              },
              "breakpoints": {
                "320": {
                  "slidesPerView": 2,
                  "slidesPerGroup": 2,
                  "spaceBetween": 14
                },
                "768": {
                  "slidesPerView": 3,
                  "slidesPerGroup": 3,
                  "spaceBetween": 24
                },
                "992": {
                  "slidesPerView": 4,
                  "slidesPerGroup": 4,
                  "spaceBetween": 30
                }
              }
            }'>
            <div class="swiper-wrapper">

              {% for recommendation in recommendations %}
              <div class="swiper-slide product-card">
                <div class="pc__img-wrapper">
                  <a href="product1_simple.html">
                    <img loading="lazy" src="{{recommendation.image}}" width="330" height="400" alt="Cropped Faux leather Jacket" class="pc__img">
                    <img loading="lazy" src="{{recommendation.image}}" width="330" height="400" alt="Cropped Faux leather Jacket" class="pc__img pc__img-second">
                  </a>
                  <button class="pc__atc btn anim_appear-bottom btn position-absolute border-0 text-uppercase fw-medium js-add-cart js-open-aside" data-aside="cartDrawer" title="Add To Cart">Add To Cart</button>
                </div>

                <div class="pc__info position-relative">
                  <p class="pc__category">{{recommendation.item_group}}</p>
                  <h6 class="pc__title"><a href="product1_simple.html">{{recommendation.item_name}}</a></h6>
                  <div class="product-card__price d-flex">
                    <span class="money price">{{recommendation.custom_price}} DA</span>
                  </div>

                  <button class="pc__btn-wl position-absolute top-0 end-0 bg-transparent border-0 js-add-wishlist" title="Add To Wishlist">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><use href="#icon_heart" /></svg>
                  </button>
                </div>
              </div>
              {% endfor %}
            </div><!-- /.swiper-wrapper -->
          </div><!-- /.swiper-container js-swiper-slider -->

          <div class="products-carousel__prev position-absolute top-50 d-flex align-items-center justify-content-center">
            <svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><use href="#icon_prev_md" /></svg>
          </div><!-- /.products-carousel__prev -->
          <div class="products-carousel__next position-absolute top-50 d-flex align-items-center justify-content-center">
            <svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><use href="#icon_next_md" /></svg>
          </div><!-- /.products-carousel__next -->

          <div class="products-pagination mt-4 mb-5 d-flex align-items-center justify-content-center"></div>
          <!-- /.products-pagination -->
        </div><!-- /.position-relative -->

    </section><!-- /.products-carousel container -->

    {% endif %}





{% endblock %}
